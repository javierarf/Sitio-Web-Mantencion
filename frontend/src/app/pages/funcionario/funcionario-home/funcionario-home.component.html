<app-navbar></app-navbar>

<div class="funcionario-container">
  <h2>Crear nueva solicitud</h2>

  <form (ngSubmit)="crear()" class="solicitud-form">
    <input
      [(ngModel)]="resumen"
      name="resumen"
      placeholder="Asunto"
      required
      class="form-control"
    />

    <textarea
      [(ngModel)]="descripcion"
      name="descripcion"
      placeholder="Descripción"
      required
      rows="4"
      class="form-control"
    ></textarea>

    <input
      type="file"
      (change)="onImagenesSeleccionadas($event)"
      multiple
      accept="image/*"
      class="form-control"
    />

    <div *ngIf="imagenesPreview.length > 0" class="preview-container">
      <img *ngFor="let img of imagenesPreview" [src]="img" alt="Vista previa" />
    </div>

    <button type="submit" class="btn-crear">Crear solicitud</button>
  </form>

  <h3 class="mis-solicitudes">Mis solicitudes</h3>
  <ul class="lista-solicitudes">
    <li *ngFor="let s of solicitudes">
      <strong>{{ s.resumen }}</strong> — {{ s.descripcion }} — 
      Completada: {{ s.completada ? 'Sí' : 'No' }}
    </li>
  </ul>
</div>
